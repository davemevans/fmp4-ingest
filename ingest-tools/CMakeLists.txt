cmake_minimum_required (VERSION 2.8)
project (fmp4ingest)
include_directories("${PROJECT_SOURCE_DIR}")
link_directories("${PROJECT_SOURCE_DIR}")
find_package(CURL REQUIRED)

if(CMAKE_COMPILER_IS_GNUCXX)
    include(CheckCXXCompilerFlag)
    CHECK_CXX_COMPILER_FLAG("-std=c++11" COMPILER_SUPPORTS_CXX11)

    if(COMPILER_SUPPORTS_CXX11)
        set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
    endif()
endif()

#add_library (fmp4stream fmp4stream.cpp fmp4stream.h)
add_executable(fmp4ingest fmp4ingest.cpp fmp4stream.cpp fmp4stream.h base64.cpp base64.h)
target_link_libraries(fmp4ingest ${CURL_LIBRARIES})
add_executable(fmp4dump fmp4dump.cpp fmp4stream.cpp fmp4stream.h base64.cpp base64.h)
add_executable(fmp4mdatsizedump fmp4mdatsizedump.cpp fmp4stream.cpp fmp4stream.h base64.cpp base64.h)
add_executable(fmp4sparse fmp4sparse.cpp fmp4stream.cpp fmp4stream.h base64.cpp base64.h)
add_executable(fmp4Init fmp4init.cpp fmp4stream.cpp fmp4stream.h base64.cpp base64.h)
add_executable(fmp4DashEvent fmp4DashEvent.cpp fmp4stream.cpp fmp4stream.h base64.cpp base64.h)
